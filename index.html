<html>
 <head>
  <script type="text/javascript" src="gwt-oauth2.js"></script>
 </head>
 <body>
   <!-- Comunicacion con oAuth utilizando JavaScript para recibir el token de acceso. -->
  <script type="text/javascript">
   ////////////////////////////////////////////////////////////////////////////
   // AUTENTICANDO CON GOOGLE //////////////////////////////////////////////
   ////////////////////////////////////////////////////////////////////////////
   (function() {
     var GOOGLE_AUTH_URL = "https://accounts.google.com/o/oauth2/auth";
     var GOOGLE_CLIENT_ID = "861466322111-54tn24tg5qrdifk51ej7is71jok2tb3i.apps.googleusercontent.com";
     var PLUS_ME_SCOPE = "http://docs.google.com/feeds+https://www.googleapis.com/auth/userinfo.email";

     var button = document.createElement("button");
     button.innerText = "SyncMe - Autorizar a la aplicaci√≥n con Google";
     button.onclick = function() {
       var req = {
         "authUrl" : GOOGLE_AUTH_URL,
         "clientId" : GOOGLE_CLIENT_ID,
         "scopes" : [ PLUS_ME_SCOPE ],
       };
       oauth2.login(req, function(token) {
         alert("Token de OAuth recibido:\n" + token + "\n"
             + "Expira en " + oauth2.expiresIn(req) + " ms\n");
       }, function(error) {
         alert("Error:\n" + error);
       });
     };
     document.body.appendChild(button);

     var clearTokens = document.createElement("button");
     clearTokens.innerText = "Limpiar todos los tokens";
     clearTokens.onclick = oauth2.clearAllTokens;
     document.body.appendChild(clearTokens);
   })();
  </script>
 </body>
</html>
